<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checking some basic WS before moving forward</title>
    <script>
      const _wsUrl = 'ws://localhost:5001'
      const _wsConnection = new WebSocket(_wsUrl)

      console.log({ _wsConnection })

      _wsConnection.onopen = event => {
        console.log({ message: 'connection made', event })
      }

      _wsConnection.onmessage = messageInfo => {
        console.log({
          message: 'a new message received from server',
          messageInfo
        })
      }

      _wsConnection.onclose = event => {
        console.log({ message: 'connection closed', event })
      }

      const sendTestMessage = () => {
        // const mes = prompt('Enter a message', 'no message was added.')

        _wsConnection.send('working message from client')
      }
    </script>
  </head>
  <body>
    <h1>open console to see the result</h1>
    <button onclick="sendTestMessage()">Send Message</button>
  </body>
</html>
